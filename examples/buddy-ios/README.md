# Buddy iOS

Native iOS app for Buddy - Voice AI Code Assistant.

Built using **Craft** (`~/Code/craft`) - a framework for building native apps with web technologies.

## Quick Start

### 1. Initialize the Project

```bash
cd examples/buddy-ios
bun run init
# Or directly: craft ios init Buddy --bundle-id com.stacksjs.buddy
```

This uses Craft to set up the iOS project structure.

### 2. Build Web Assets

```bash
bun run build
# Or directly: craft ios build
```

This:
- Processes `voice-buddy.stx` with iOS-specific enhancements
- Adds Craft native bridge integration
- Generates the Xcode project

### 3. Open in Xcode

```bash
bun run open
# Or directly: craft ios open
```

### 4. Run on Device

In Xcode:
1. Select your Team in Signing & Capabilities
2. Connect your iPhone
3. Select your device
4. Click Run (▶️)

Or run on simulator:
```bash
bun run run:sim
# Or directly: craft ios run --simulator
```

## Native Features (via Craft)

- **Native Speech Recognition** - iOS SFSpeechRecognizer (works offline!)
- **Haptic Feedback** - Native tactile responses
- **Share Sheet** - Native iOS sharing
- **Safe Area Support** - Notch and home indicator handling

## Architecture

```
buddy-ios/
├── package.json          # Build scripts
├── scripts/
│   ├── init.ts           # Initialize using Craft iOS
│   └── build.ts          # Build web assets + Xcode project
├── craft.config.json     # Craft iOS configuration (generated)
├── Sources/              # Swift source (generated by Craft)
├── dist/                 # Built web assets (generated)
└── Buddy.xcodeproj       # Xcode project (generated)
```

The actual iOS implementation lives in Craft at:
- `~/Code/craft/packages/ios/templates/CraftApp.swift` - Native Swift template
- `~/Code/craft/packages/typescript/bin/cli.ts` - Main Craft CLI with iOS commands

## Development

For live backend connection:

```bash
# Terminal 1: Start backend
bun examples/buddy-service.ts

# Terminal 2: Build with dev server
# Edit craft.config.json and add:
# "devServerURL": "http://YOUR_MAC_IP:3456"
bun run build
bun run open
```
